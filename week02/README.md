## 总结

### 第一步总结

为了方便文件文件管理,把 parser 单独拆到文件中  
parser 接受 html 文本作为参数,返回一棵 DOM 树

### 第二步总结

利用 FSM 来实现 HTML 的分析  
在 HTML 中已经规定了 HTML 状态  
Toy-browser 只挑选一部分状态,完成一个最简版

### 第三步总结

主要标签:开始标签、结束标签、自封闭标签
在这一步暂时忽略属性

### 第四步总结

在状态机中,除了状态迁移,还会要加入业务逻辑  
在标签结束状态提交标签 token

### 第五步总结

属性值分为单引号、双引号、无引号三总写法,需要较多状态处理  
处理属性的方式和标签类似  
属性结束时,把属性添加到标签 Token 上

### 第六步总结

从标签构造 DOM 树的基本技巧是使用栈  
遇到开始标签时创建元素并入栈,遇到结束标签时出栈  
自封闭节点可是为入栈后立刻出栈  
任何元素的父元素是它入栈前的栈顶部

### 第七步总结

文本节点与自封闭标签处理类似  
多个文本节点需要合并
